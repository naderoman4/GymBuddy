# GymBuddy - Workout Tracking Application

A mobile-friendly workout tracking application built with React, TypeScript, Vite, Tailwind CSS, and Supabase.

## Features

- **User Authentication**: Secure signup/login with email and password
- **Personal Data**: Each user has their own private workouts and exercises
- **CSV Import**: Import workout plans from CSV files or paste from clipboard (e.g., generated by Gemini AI)
- **Calendar View**: Visualize all workouts organized by date
- **Workout Tracking**: Log exercises in real-time during your workout sessions
- **Exercise Details**: Track sets, reps, weight, RPE, and rest periods
- **CSV Export**: Export completed workouts for analysis (e.g., back to Gemini)
- **Mobile-Responsive**: Optimized for use on phones during gym sessions

## Tech Stack

- **Frontend**: React 18 + TypeScript
- **Build Tool**: Vite
- **Styling**: Tailwind CSS
- **Database**: Supabase (PostgreSQL)
- **Routing**: React Router v6
- **Date Handling**: date-fns
- **CSV Parsing**: PapaParse
- **Icons**: Lucide React

## Getting Started

### Prerequisites

- Node.js 18+ and npm
- A Supabase account and project

### Installation

1. Clone the repository and install dependencies:

```bash
npm install
```

2. Set up Supabase:

   - Create a new project at [supabase.com](https://supabase.com)
   - Run the SQL in `supabase-schema.sql` in your Supabase SQL Editor
   - Run the SQL in `supabase-auth-migration.sql` to enable user authentication
   - Enable Email Auth: Dashboard → Authentication → Providers → Email (should be on by default)
   - For dev: Disable email confirmation: Dashboard → Authentication → Settings → Confirm email = OFF
   - Copy your project URL and anon key (NOT the service_role key)

3. Create a `.env` file in the root directory:

```bash
cp .env.example .env
```

4. Edit `.env` and add your Supabase credentials:

```
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

5. Start the development server:

```bash
npm run dev
```

6. Open your browser to the URL shown (typically http://localhost:5173)

## Usage

### Importing Workouts

1. Navigate to the **Import** page
2. Click "Select File" or drag and drop a CSV file
3. The CSV should have these columns:
   - `workout_date` (required, format: YYYY-MM-DD)
   - `workout_type` (required, e.g., "Push Day", "Pull Day")
   - `exercise_name` (required)
   - `expected_sets` (required, number)
   - `expected_reps` (required, number)
   - `rest_in_seconds` (required, number)
   - `rpe` (required, 1-10)
   - `recommended_weight` (optional)
   - `workout_status` (optional, defaults to "planned")
   - `workout_notes` (optional)

See `sample-workout.csv` for an example.

### Tracking a Workout

1. Go to the **Calendar** page
2. Click on a workout to open it
3. For each exercise, enter:
   - Realized sets
   - Realized reps
   - Realized weight
   - Notes (optional)
4. Click "Save Exercise" after each exercise
5. Click "Complete Workout" when done

### Exporting Data

1. Go to the **Calendar** page
2. Check the boxes next to completed workouts (green ones)
3. Click the "Export" button
4. A CSV file will download with all exercises from selected workouts

## Database Schema

### Workouts Table

- `id` (UUID, primary key)
- `name` (text)
- `date` (date)
- `workout_type` (text)
- `status` (text: "planned" or "done")
- `notes` (text, nullable)
- `created_at` (timestamp)

### Exercises Table

- `id` (UUID, primary key)
- `workout_id` (UUID, foreign key)
- `workout_name` (text, nullable)
- `exercise_name` (text)
- `expected_sets` (integer)
- `expected_reps` (integer)
- `recommended_weight` (text, nullable)
- `rest_in_seconds` (integer)
- `rpe` (integer)
- `realized_sets` (integer, nullable)
- `realized_reps` (integer, nullable)
- `realized_weight` (text, nullable)
- `notes` (text, nullable)
- `created_at` (timestamp)

## Development

### Available Scripts

- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run preview` - Preview production build
- `npm run lint` - Run ESLint

### Project Structure

```
src/
├── lib/
│   ├── supabase.ts          # Supabase client configuration
│   └── database.types.ts    # TypeScript types for database
├── pages/
│   ├── HomePage.tsx         # Landing page
│   ├── ImportPage.tsx       # CSV import functionality
│   ├── CalendarPage.tsx     # Calendar view with export
│   └── WorkoutPage.tsx      # Workout detail and tracking
├── App.tsx                  # Main app with routing
├── main.tsx                 # Entry point
└── index.css                # Global styles with Tailwind
```

## Future Enhancements

- User authentication
- Gemini API integration for automatic plan generation
- Exercise substitution during workouts
- Progress charts and analytics
- Exercise library with form videos
- Rest timer with notifications

## License

MIT
